<link rel="import" href="../polymer/polymer-element.html">


<dom-module id="user-message">
  <template>
    <style>
      :host {
        display: flex;
        flex-direction: column;
      }
      article {
        color: white;
        text-align: center;
        padding: 5px;
        max-width: 300px;
        word-break: break-all;
      }
    </style>
    <article style$="width: [[cardsWidht]]px; background-color: [[cardColor]]; align-self: [[cardPosition]];">
      [[text]]
    </article>
  </template>

  <script>
    class UserMessage extends Polymer.Element {
      static get is() { return 'user-message'; }
      static get properties() {
        return {
          text: {
            type: String,
            value: ''
          },
          from: {
            type: String,
            value:''
          },
          cardsWidht: {
            type: Number,
            computed: '_cardWidht(text)'
          },
          cardColor: {
            type: String,
            computed: '_cardColor()'
          },
          cardPosition: {
            type: String,
            computed: '_cardPosition()'
          }
        };
      }

      _cardWidht(text){
        const size = this.text.length*8;
        return size;
      }

      _cardColor(){
        if(this.from === 'user'){
          return '#43A047';
        } else if(this.from === 'bot'){
          return '#1E88E5'
        }
      }

      _cardPosition(){
        if(this.from === 'user'){
          return 'flex-end';
        } else if(this.from === 'bot'){
          return ''
        }
      }

    }

    window.customElements.define(UserMessage.is, UserMessage);
  </script>
</dom-module>
